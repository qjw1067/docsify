
# Git基础操作


> ##### 你一定要知道的git基本原理   

![git仓库基本流程](https://cdn.jsdelivr.net/gh/qjw1067/docsify/images/git/gitall.png)   

> ##### 约定俗成的分支介绍
- master 主干分支  
主要负责管理正在运行的生产环境代码。永远保持与正在运行的生产环境完全一致。

- develop 开发分支  
主要负责管理正在开发过程中的代码。一般情况下应该是最新的代码。

- hotfix bug修理分支  
主要负责管理生产环境下出现的紧急修复的代码。从主干分支分出，修理完毕并测试上线后，并回主干分支。并回后，视情况可以删除该分支。

- release 准生产分支（预发布分支）  
较大的版本上线前，会从开发分支中分出准生产分支，进行最后阶段的集成测试。该版本上线后，会合并到主干分支。生产环境运行一段阶段较稳定后可视情况删除。

- feature 功能分支  
为了不影响较短周期的开发工作，一般把中长期开发模块，会从开发分支中独立出来。开发完成后合并到开发分支。

> ##### git命令的基础操作

- 提交所有
```
git add .
```
- 本次提交的描述
```
git commit -m '提交描述'
```
- 向远程分支推送
```
git push origin 分支名
```
- 拉取远程分支代码
```
git pull origin 分支名
```

> ##### Sourcetree的基础用法
- 拉取-用于拉取仓库中的某一分支代码

- 推送-用于将本地代码推送到仓库中

> ##### 常规操作   
1. 每天上班来第一件事，就是从仓库中拉取开发分支的代码，同步到自己的分支
2.

> ##### 如果你没有规范操作，那么就会用到的下列复杂用法






==============================================================================================================
====================================================分割线====================================================
==============================================================================================================

#### 项目初级阶段从0开始实例

1初始化

     git init

2-Git 全局设置:
新项目搭建git 必须设置全局变量

        git config --global user.name "1067"
        git config --global user.email "qjw1067@163.com"

3创建秘钥 一路回车不要添加密码 把生成的秘钥放在 自己账户里  不要放在项目里

    ssh-keygen -t rsa

4创建仓库链接链接

    git remote add origin git@git.oschina.net:XXXX/mg.git

5把线上的项目拉下来

      git pull origin master
至此，项目已经全部拉取下来

>后续基本操作

6查看状态

     git status 

7添加需要添加的

    git add .

8描述一下

     git commit -m "写一些版本变动或代码改动"

9推送到仓库

    git push -u origin master


===========================未完待续=========================
===========================2021-08-24更=========================
- ### 远程分支存在，本地使用 git branch -a 查看不到该远程分支
使用命令
```
git fetch --prune origin
```
后
```
git branch -a
```
就可以看到了

- ### 在gitlab上删除分支后，本地git branch -r还能看到
1. git remote prune --dry-run origin 查看当前有哪些是该消失还存在的分支
2. git remote prune origin 删除上面展示的所有分支
3. git fetch --prune origin

- ### git分支重命名
1. 创建新的分支
```
git branch test
git branch --list
```
2. 重命名
```
git branch -m test  test1
git branch --list
```
3. 就可以看到分支重命名成功了